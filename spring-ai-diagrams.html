<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring AI ë‹¤ì´ì–´ê·¸ë¨</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }
        h2 {
            color: #555;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        .diagram-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .mermaid {
            text-align: center;
        }
        .description {
            background: #e7f3ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .description h3 {
            margin-top: 0;
            color: #667eea;
        }
        .description p {
            color: #666;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Spring AI ë©€í‹° ëª¨ë¸ ì• í”Œë¦¬ì¼€ì´ì…˜</h1>
        
        <h2>ğŸ“‹ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h2>
        <div class="description">
            <h3>êµ¬ì¡° ì„¤ëª…</h3>
            <p>ì´ í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì •ì  êµ¬ì¡°ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. ChatServiceê°€ ì¤‘ì‹¬ì´ ë˜ì–´ ì„¸ ê°€ì§€ AI APIì™€ ìƒí˜¸ì‘ìš©í•˜ë©°, Spring AI í”„ë ˆì„ì›Œí¬ì˜ ë‹¤ì–‘í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ í™œìš©í•©ë‹ˆë‹¤.</p>
        </div>
        <div class="diagram-container">
            <div class="mermaid">
classDiagram
    class Springai2Application {
        +main(String[] args) void
    }
    
    class ChatService {
        -OpenAiApi openAiApi
        -AnthropicApi anthropicApi
        -OpenAiApi geminiApi
        +ChatService(OpenAiApi, AnthropicApi, OpenAiApi)
        +getOpenAiResponse(String, double) ChatResponse
        +getAnthropicResponse(String, double) ChatResponse
        +getGeminiResponse(String, double) ChatResponse
    }
    
    class OpenAiApi {
        -String apiKey
        -String baseUrl
        -String completionsPath
        +builder() Builder
        +build() OpenAiApi
    }
    
    class AnthropicApi {
        -String apiKey
        +builder() Builder
        +build() AnthropicApi
    }
    
    class Message {
        &lt;&lt;interface&gt;&gt;
        +getContent() String
    }
    
    class SystemMessage {
        -String content
        +SystemMessage(String)
        +getContent() String
    }
    
    class UserMessage {
        -String content
        +UserMessage(String)
        +getContent() String
    }
    
    class ChatOptions {
        -String model
        -double temperature
        +builder() Builder
        +build() ChatOptions
    }
    
    class Prompt {
        -List~Message~ messages
        -ChatOptions chatOptions
        +Prompt(List~Message~, ChatOptions)
        +getMessages() List~Message~
        +getOptions() ChatOptions
    }
    
    class OpenAiChatModel {
        -OpenAiApi openAiApi
        +builder() Builder
        +build() OpenAiChatModel
        +call(Prompt) ChatResponse
    }
    
    class AnthropicChatModel {
        -AnthropicApi anthropicApi
        +builder() Builder
        +build() AnthropicChatModel
        +call(Prompt) ChatResponse
    }
    
    class ChatResponse {
        -Result result
        +getResult() Result
        +toString() String
    }
    
    Springai2Application ..> ChatService : creates
    Springai2Application ..> OpenAiApi : creates
    Springai2Application ..> AnthropicApi : creates
    
    ChatService o-- OpenAiApi : has
    ChatService o-- AnthropicApi : has
    
    ChatService ..> OpenAiChatModel : creates
    ChatService ..> AnthropicChatModel : creates
    ChatService ..> Prompt : creates
    ChatService ..> SystemMessage : creates
    ChatService ..> UserMessage : creates
    ChatService ..> ChatOptions : creates
    
    SystemMessage ..|> Message : implements
    UserMessage ..|> Message : implements
    
    Prompt o-- Message : contains
    Prompt o-- ChatOptions : contains
    
    OpenAiChatModel --> OpenAiApi : uses
    AnthropicChatModel --> AnthropicApi : uses
    
    OpenAiChatModel ..> ChatResponse : returns
    AnthropicChatModel ..> ChatResponse : returns
            </div>
        </div>

        <h2>ğŸ”„ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h2>
        <div class="description">
            <h3>ì‹¤í–‰ íë¦„ ì„¤ëª…</h3>
            <p>ì´ ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ë˜ì–´ ê° AI ëª¨ë¸ì„ í˜¸ì¶œí•˜ëŠ” ì „ì²´ íë¦„ì„ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤. ë™ì¼í•œ ì§ˆë¬¸ì´ ì„¸ ê°€ì§€ ë‹¤ë¥¸ AI ì„œë¹„ìŠ¤ë¡œ ì „ì†¡ë˜ê³  ì‘ë‹µì„ ë°›ëŠ” ê³¼ì •ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="diagram-container">
            <div class="mermaid">
sequenceDiagram
    participant Main as Springai2Application
    participant CS as ChatService
    participant OAI as OpenAiApi
    participant AAI as AnthropicApi
    participant GAI as GeminiApi
    participant OCM as OpenAiChatModel
    participant ACM as AnthropicChatModel
    participant GCM as GeminiChatModel
    
    Main->>Main: í™˜ê²½ë³€ìˆ˜ì—ì„œ API í‚¤ ê°€ì ¸ì˜¤ê¸°
    Note over Main: OPENAI_API_KEY<br/>ANTHROPIC_API_KEY<br/>GEMINI_API_KEY
    
    Main->>OAI: OpenAiApi ìƒì„± (openAiApiKey)
    Main->>AAI: AnthropicApi ìƒì„± (anthropicApiKey)
    Main->>GAI: OpenAiApi ìƒì„± (geminiApiKey, Google URL)
    
    Main->>CS: new ChatService(openAiApi, anthropicApi, geminiApi)
    
    rect rgb(200, 230, 255)
        Note over Main,OCM: OpenAI í˜¸ì¶œ í”„ë¡œì„¸ìŠ¤
        Main->>CS: getOpenAiResponse("AIì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì¤˜", 0.5)
        CS->>CS: SystemMessage ìƒì„±
        CS->>CS: UserMessage ìƒì„±
        CS->>CS: ChatOptions ìƒì„± (model: "gpt-4o")
        CS->>CS: Prompt ìƒì„±
        CS->>OCM: OpenAiChatModel ìƒì„±
        CS->>OCM: call(prompt)
        OCM->>OAI: API í˜¸ì¶œ
        OAI-->>OCM: ì‘ë‹µ
        OCM-->>CS: ChatResponse
        CS-->>Main: ChatResponse
        Main->>Main: OpenAI ì‘ë‹µ ì¶œë ¥
    end
    
    rect rgb(255, 230, 200)
        Note over Main,ACM: Anthropic í˜¸ì¶œ í”„ë¡œì„¸ìŠ¤
        Main->>CS: getAnthropicResponse("AIì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì¤˜", 0.5)
        CS->>CS: SystemMessage ìƒì„±
        CS->>CS: UserMessage ìƒì„±
        CS->>CS: ChatOptions ìƒì„± (model: "claude-3-7-sonnet")
        CS->>CS: Prompt ìƒì„±
        CS->>ACM: AnthropicChatModel ìƒì„±
        CS->>ACM: call(prompt)
        ACM->>AAI: API í˜¸ì¶œ
        AAI-->>ACM: ì‘ë‹µ
        ACM-->>CS: ChatResponse
        CS-->>Main: ChatResponse
        Main->>Main: Anthropic ì‘ë‹µ ì¶œë ¥
    end
    
    rect rgb(230, 255, 200)
        Note over Main,GCM: Gemini í˜¸ì¶œ í”„ë¡œì„¸ìŠ¤
        Main->>CS: getGeminiResponse("AIì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì¤˜", 0.5)
        CS->>CS: SystemMessage ìƒì„±
        CS->>CS: UserMessage ìƒì„±
        CS->>CS: ChatOptions ìƒì„± (model: "gemini-2.0-flash-lite")
        CS->>CS: Prompt ìƒì„±
        CS->>GCM: OpenAiChatModel ìƒì„± (Geminiìš©)
        CS->>GCM: call(prompt)
        GCM->>GAI: API í˜¸ì¶œ
        GAI-->>GCM: ì‘ë‹µ
        GCM-->>CS: ChatResponse
        CS-->>Main: ChatResponse
        Main->>Main: Gemini ì‘ë‹µ ì¶œë ¥
    end
            </div>
        </div>

        <div class="description">
            <h3>ğŸ’¡ ì£¼ìš” íŠ¹ì§•</h3>
            <p><strong>1. í†µí•© ì¸í„°í˜ì´ìŠ¤:</strong> ChatServiceê°€ ì„¸ ê°€ì§€ AI ì„œë¹„ìŠ¤ì— ëŒ€í•œ í†µí•© ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ í•©ë‹ˆë‹¤.</p>
            <p><strong>2. ë¹Œë” íŒ¨í„´:</strong> ëª¨ë“  APIì™€ Model í´ë˜ìŠ¤ëŠ” ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
            <p><strong>3. ì¬ì‚¬ìš©ì„±:</strong> Message, ChatOptions, Prompt ë“±ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë“  AI ì„œë¹„ìŠ¤ì—ì„œ ì¬ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
            <p><strong>4. OpenAI í˜¸í™˜ì„±:</strong> Gemini APIê°€ OpenAI í˜¸í™˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œê³µí•˜ì—¬ OpenAiApi í´ë˜ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#7c3aed',
                lineColor: '#5a67d8',
                secondaryColor: '#e0e7ff',
                tertiaryColor: '#faf5ff',
                background: '#ffffff',
                mainBkg: '#667eea',
                secondBkg: '#e0e7ff',
                tertiaryBkg: '#faf5ff',
                noteBkgColor: '#fff5e6',
                noteTextColor: '#333333',
                noteBorderColor: '#ffa500'
            }
        });
    </script>
</body>
</html>